{"version":3,"sources":["webpack:///F:/Workspace/jianzhi/zhongbao/pages/user/changePhone.vue","webpack:///F:/Workspace/jianzhi/zhongbao/pages/user/changePhone.vue?fea3","webpack:///F:/Workspace/jianzhi/zhongbao/pages/user/changePhone.vue?8d69","webpack:///F:/Workspace/jianzhi/zhongbao/pages/user/changePhone.vue?018b","webpack:///F:/Workspace/jianzhi/zhongbao/pages/user/changePhone.vue?0404","webpack:///F:/Workspace/jianzhi/zhongbao/pages/user/changePhone.vue?135d","webpack:///F:/Workspace/jianzhi/zhongbao/pages/user/changePhone.vue?4f87"],"names":["components","mInput","data","loginType","pageType","state","totalTime","recordingTime","currentTime","vaild","mobile","password","account","positionTop","onLoad","that","computed","methods","inputChange","e","key","currentTarget","dataset","detail","value","toRegister","test","$api","msg","$req","ajax","path","title","code","token","res","login","uni","redirectTo","url","message","checking","checkingTime","setTimeout"],"mappings":"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","file":"pages/user/changePhone.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport service from '../../service.js';\nimport {\n\tmapState,\n\tmapMutations\n} from 'vuex'\nimport mInput from '../../components/m-input.vue'\n\nexport default {\n\tcomponents: {\n\t\tmInput\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloginType: 'phone',\n\t\t\tpageType: \"login\",\n\t\t\tstate: false, //是否开启倒计时\n\t\t\ttotalTime: 60, //总时间，单位秒\n\t\t\trecordingTime: 0, //记录时间变量\n\t\t\tcurrentTime: 0, //显示时间变量\n\t\t\tvaild: \"\",\n\t\t\tmobile: '',\n\t\t\tpassword: '',\n\t\t\taccount: '',\n\t\t\tpositionTop: 0\n\t\t}\n\t},\n\tonLoad() {\n\t\tlet that = this;\n\n\t},\n\tcomputed: mapState(['token']),\n\tmethods: {\n\t\t...mapMutations(['login', 'setOpenId']),\n\t\tinputChange(e) {\n\t\t\tconst key = e.currentTarget.dataset.key;\n\t\t\tthis[key] = e.detail.value;\n\t\t},\n\n\t\tasync toRegister() {\n\t\t\tif (!/(^1[3|4|5|6|7|8|9][0-9]{9}$)/.test(this.account)) {\n\t\t\t\tthis.$api.msg('请输入正确的原手机号');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!/(^1[3|4|5|6|7|8|9][0-9]{9}$)/.test(this.mobile)) {\n\t\t\t\tthis.$api.msg('请输入正确的手机号码');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet res = await this.$req.ajax({\n\t\t\t\tpath: '/wxapi/member/maker_mobile',\n\t\t\t\ttitle: '正在加载',\n\t\t\t\tdata: {\n\t\t\t\t\taccount: this.mobile,\n\t\t\t\t\tcode: this.vaild,\n\t\t\t\t\ttoken: this.token,\n\n\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (res.data.code == 200) {\n\t\t\t\tthis.login(res.data.data.token);\n\t\t\t\tuni.redirectTo({\n\t\t\t\t\turl: \"/pages/main/main\"\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.$api.msg(res.data.message)\n\n\t\t\t}\n\t\t},\n\t\tasync checking() {\n\t\t\tif (!/(^1[3|4|5|6|7|8|9][0-9]{9}$)/.test(this.mobile)) {\n\t\t\t\tthis.$api.msg('请输入正确的手机号码');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// \n\t\t\tlet res = await this.$req.ajax({\n\t\t\t\tpath: 'wxapi/sms/ChuanglanSmsApi',\n\t\t\t\ttitle: '正在加载',\n\t\t\t\tdata: {\n\t\t\t\t\taccount: this.mobile,\n\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (res.data.code == 200) {\n\t\t\t\t//把显示时间设为总时间\n\t\t\t\tthis.currentTime = this.totalTime;\n\t\t\t\t//开始倒计时\n\t\t\t\tthis.state = true;\n\t\t\t\t//执行倒计时\n\t\t\t\tthis.checkingTime();\n\t\t\t} else {\n\t\t\t\tthis.$api.msg(res.data.message)\n\n\t\t\t}\n\n\t\t},\n\t\tcheckingTime() {\n\t\t\tlet that = this;\n\t\t\t//判断是否开启\n\t\t\tif (this.state) {\n\t\t\t\t//判断显示时间是否已到0，判断记录时间是否已到总时间\n\t\t\t\tif (this.currentTime > 0 && this.recordingTime <= this.totalTime) {\n\t\t\t\t\t//记录时间增加 1\n\t\t\t\t\tthis.recordingTime = this.recordingTime + 1;\n\t\t\t\t\t//显示时间，用总时间 - 记录时间\n\t\t\t\t\tthis.currentTime = this.totalTime - this.recordingTime;\n\t\t\t\t\t//1秒钟后，再次执行本方法\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t//定时器内，this指向外部，找不到vue的方法，所以，需要用that变量。\n\t\t\t\t\t\tthat.checkingTime();\n\t\t\t\t\t}, 1000)\n\t\t\t\t} else {\n\t\t\t\t\t//时间已完成，还原相关变量\n\t\t\t\t\tthis.state = false; //关闭倒计时\n\t\t\t\t\tthis.recordingTime = 0; //记录时间为0\n\t\t\t\t\tthis.currentTime = this.totalTime; //显示时间为总时间\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//倒计时未开启，初始化默认变量\n\t\t\t\tthis.state = false;\n\t\t\t\tthis.recordingTime = 0;\n\t\t\t\tthis.currentTime = this.totalTime;\n\t\t\t}\n\t\t}\n\n\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./changePhone.vue?vue&type=template&id=5a27aab7&\"\nimport script from \"./changePhone.vue?vue&type=script&lang=js&\"\nexport * from \"./changePhone.vue?vue&type=script&lang=js&\"\nimport style0 from \"./changePhone.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5a27aab7', component.options)\n    } else {\n      api.reload('5a27aab7', component.options)\n    }\n    module.hot.accept(\"./changePhone.vue?vue&type=template&id=5a27aab7&\", function () {\n      api.rerender('5a27aab7', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"F:/Workspace/jianzhi/zhongbao/pages/user/changePhone.vue\"\nexport default component.exports","import mod from \"-!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./changePhone.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./changePhone.vue?vue&type=script&lang=js&\"","import mod from \"-!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./changePhone.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./changePhone.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.1.7.0.20190314\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./changePhone.vue?vue&type=template&id=5a27aab7&\""],"sourceRoot":""}